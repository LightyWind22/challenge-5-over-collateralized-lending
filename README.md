# Speedrun Ethereum - Challenge 5: Over-Collateralized Lending

## ðŸ“– Introduction
This repository contains my solution for **Challenge 5: Over-Collateralized Lending** from the Speedrun Ethereum curriculum.

The goal of this challenge is to build a decentralized lending protocol that allows users to:

- **Deposit Collateral**: Users can deposit tokens as collateral.
- **Borrow Funds**: Borrow Ether against the collateral with over-collateralization.
- **Repay Loans**: Repay borrowed Ether to retrieve collateral.
- **Liquidate Positions**: Liquidate under-collateralized positions.

---

## ðŸ—‚ Table of Contents
1. [Tech Stack](#tech-stack)
2. [Prerequisites](#prerequisites)
3. [Installation & Setup Guide](#installation--setup-guide)
4. [How to Run](#how-to-run-3-terminal-workflow)
5. [How to Test the Functionality](#how-to-test-the-functionality)
6. [License](#license)

---

## ðŸ›  Tech Stack
- **Framework**: Scaffold-ETH 2
- **Smart Contract**: Solidity
- **Frontend**: Next.js, RainbowKit, Tailwind CSS
- **Environment**: Hardhat (Localhost)

---

## ðŸ›  Prerequisites
Before running this project, ensure your machine meets the following requirements:

- **Node.js**: Version >= 18.17 (LTS recommended)
- **Yarn**: v1 or v2+ (Package manager)
- **Git**: Version control system

To verify your installations, run:

```bash
node -v
yarn -v
git --version
```

---

## ðŸš€ Installation & Setup Guide
This project uses Scaffold-ETH 2, which requires running three separate terminals to simulate the blockchain environment, deploy contracts, and host the frontend.

### Step 1: Clone the Repository
Open your terminal and clone the project code:

```bash
git clone https://github.com/LightyWind22/challenge-4-dex.git
cd challenge-4-dex
```

### Step 2: Install Dependencies
Install all necessary node modules for both the Hardhat backend and the Next.js frontend:

```bash
yarn install
```

---

## ðŸƒâ€â™‚ï¸ How to Run (3-Terminal Workflow)
Please follow these steps in order. You will need three separate terminal windows/tabs open.

### Terminal 1: Start the Local Blockchain
This command starts a local Ethereum network (Hardhat network) on your machine. Keep this terminal running.

```bash
yarn chain
```

### Terminal 2: Deploy Smart Contracts
Open a second terminal. This command deploys the lending-related smart contracts to the local network created in Terminal 1.

```bash
yarn deploy
```

> **Note**: If you modify the smart contract code later, you must run `yarn deploy` again.

### Terminal 3: Start the Frontend
Open a third terminal. This command starts the React/Next.js application.

```bash
yarn start
```

Once started, open your web browser and navigate to: [http://localhost:3000](http://localhost:3000)

### Terminal 4: Run Tests
Open a fourth terminal. This command runs the tests for the Dice Game smart contracts.

```bash
yarn test
```

> **Note**: This will execute the Hardhat tests with gas reporting enabled.

---

## ðŸ§ª How to Test the Functionality
Once the application is running at [http://localhost:3000](http://localhost:3000), follow these steps to verify the solution:

1. **Connect Wallet**:
   - Click the "Connect Wallet" button in the top right.
   - Use the "Burner Wallet" (a temporary local wallet) generated by the app.

2. **Deposit Collateral**:
   - Navigate to the "Lending" section.
   - Deposit tokens as collateral.
   - **Verification**: Ensure the collateral balance increases.

3. **Borrow Ether**:
   - Borrow Ether against the deposited collateral.
   - **Verification**: Ensure the borrowed Ether is transferred to your wallet.

4. **Repay Loan**:
   - Repay the borrowed Ether.
   - **Verification**: Ensure the collateral is unlocked and returned.

5. **Liquidate Position**:
   - Trigger liquidation for an under-collateralized position.
   - **Verification**: Ensure the collateral is seized and the debt is cleared.

---

## ðŸ“œ License
This project is part of the Speedrun Ethereum challenges.